function setUpWalletsEmergepay(){var n,t;if(!isEmpty(vmViewIndex.apiKeyEmergepay())){n=$("#wallets-container");try{isLoading(!0);n.empty();let i=new emergepayWallets(vmViewIndex.apiKeyEmergepay()),u=[],r={};r={};r.label="Subtotal";r.amount=vmViewIndex.cart.subTotal().toFixed(2).toString();u.push(r);r={};r.label="Discount";r.amount=vmViewIndex.cart.discount().toFixed(2).toString();u.push(r);t=vmViewIndex.cart.summaryTotal().toFixed(2).toString();i.setRequiredFields({billing:{address:!0},shipping:{address:!1,email:!1,phoneNumber:!1}}).catch(()=>{n.attr("class","d-none"),isLoading(!1)});i.setTransactionDetails({total:t,shippingMethods:[],lineItems:u}).catch(()=>{n.attr("class","d-none"),isLoading(!1)});i.appendButtons({appendToId:"wallets-container",color:"black",type:"compact",inheritDimensionsFromId:"btnWalletsEmergepay"}).then(()=>{setTimeout(function(){var t=n.find(".gpay-button");t.length&&(t.removeClass("black"),t.addClass("white"));isLoading(!1)},750)}).catch(()=>{n.attr("class","d-none"),isLoading(!1)});i.oncancel=()=>{console.log("wallet transaction canceled"),isLoading(!1)};i.onerror=n=>{console.log(n),isLoading(!1)};i.onuserauthorized=n=>{var u;i.completePayment({approved:!0});n.type.toUpperCase()==cApplePay?vmViewIndex.cart.isPayApple(!0):vmViewIndex.cart.isPayGoogle(!0);var r=$(getIdTag(cfrmConfirmPayment)),f=r.attr("id"),e=r.parent(),t=new ObjValidateForm(f,e);if(t.verifyData(),t.error.length>0)return t.showAlert&&(u=convertArrToString(t.error),swal(cSwal_Alert_Error,replaceNewLineToBr(u),cSwal_Icon_Error)),!0;if(vmViewIndex.cart.invalidAddress().length>0)return suggestionAddress(vmViewIndex.cart.invalidAddress(),cfrmConfirmPayment_SuggestionAddress),!0;isLoading(!0);vmViewIndex.cart.walletsEmergepayJson(JSON.stringify(n));ConfirmPayment(cfrmConfirmPayment,null)};i.onshippinginfoupdate=()=>{i.updateShippingInfo({total:t,lineItems:u,shippingMethods:[]})};i.onshippingmethodupdate=()=>{i.updateShippingMethod({total:t,lineItems:u})}}catch(i){console.log(i);isLoading(!1)}}}
//# sourceMappingURL=maps/project-bundle-wallets-emergepay.min.js.map
